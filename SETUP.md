# Инструкция по настройке и запуску APIfy

## Шаг 1: Настройка Supabase

1. Перейдите на [supabase.com](https://supabase.com) и создайте новый проект
2. После создания проекта перейдите в Settings → API
3. Скопируйте следующие значения:
   - Project URL (NEXT_PUBLIC_SUPABASE_URL)
   - anon/public key (NEXT_PUBLIC_SUPABASE_ANON_KEY)

4. Откройте файл `.env.local` и замените значения:

```env
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
```

## Шаг 2: Создание таблиц в базе данных

1. В панели Supabase перейдите в SQL Editor
2. Откройте файл `supabase/schema.sql` из проекта
3. Скопируйте весь SQL код и вставьте в SQL Editor
4. Нажмите "Run" для выполнения скрипта

Это создаст все необходимые таблицы:
- users (профили пользователей)
- api_tests (результаты тестов)
- test_history (история запросов)
- api_documentation (документация API)

## Шаг 3: Запуск приложения

```bash
# Установка зависимостей (если еще не установлены)
pnpm install

# Запуск в режиме разработки
pnpm dev
```

Приложение будет доступно по адресу: http://localhost:3000

## Шаг 4: Первый запуск

1. Откройте http://localhost:3000
2. Вы будете перенаправлены на страницу входа
3. Нажмите "Зарегистрироваться" для создания аккаунта
4. Заполните форму регистрации
5. После регистрации вы попадете на главную страницу

## Использование приложения

### Тестирование API

1. На главной странице заполните форму:
   - Название сервиса (например: "JSONPlaceholder")
   - URL API (например: "https://jsonplaceholder.typicode.com/posts/1")
   - Выберите HTTP метод (GET, POST, PUT, DELETE, PATCH)
   - При необходимости добавьте заголовки в формате JSON
   - Для POST/PUT/PATCH добавьте тело запроса

2. Нажмите "Выполнить запрос"

3. Результаты отобразятся ниже формы:
   - HTTP статус ответа
   - Время отклика
   - Заголовки ответа
   - Тело ответа

### Просмотр истории

1. Перейдите на вкладку "История"
2. Вы увидите таблицу со всеми вашими тестами
3. Нажмите "Детали" для просмотра полной информации о тесте

## Примеры для тестирования

### Пример 1: GET запрос

- Название: JSONPlaceholder
- URL: https://jsonplaceholder.typicode.com/posts/1
- Метод: GET
- Заголовки: {}

### Пример 2: POST запрос

- Название: JSONPlaceholder
- URL: https://jsonplaceholder.typicode.com/posts
- Метод: POST
- Заголовки: {}
- Тело:
```json
{
  "title": "Test Post",
  "body": "This is a test",
  "userId": 1
}
```

### Пример 3: С аутентификацией

- Название: GitHub API
- URL: https://api.github.com/user
- Метод: GET
- Заголовки:
```json
{
  "Authorization": "Bearer YOUR_GITHUB_TOKEN"
}
```

## Устранение проблем

### Ошибка подключения к Supabase

- Проверьте правильность URL и ключа в `.env.local`
- Убедитесь, что проект Supabase активен
- Перезапустите dev сервер после изменения `.env.local`

### Ошибки TypeScript

Если видите ошибки импорта компонентов:
```bash
# Очистите кэш и перезапустите
rm -rf .next
pnpm dev
```

### CORS ошибки

Некоторые API могут блокировать запросы из браузера. Это нормальное поведение и не является ошибкой приложения.

## Следующие шаги

После успешного запуска MVP можно переходить к следующим фазам разработки:
- Фаза 6: Тестирование аутентификации API
- Фаза 7: Интеграция с OpenAPI/Swagger
- Фаза 8: Мониторинг и аналитика
- Фаза 9: Улучшение UX
- Фаза 10: Интеграция нейросети
