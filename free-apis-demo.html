<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ API –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</title>
    <style>
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; 
            margin: 0; 
            padding: 20px; 
            background: #f8fafc;
        }
        .container { max-width: 1200px; margin: 0 auto; }
        .header { text-align: center; margin-bottom: 40px; }
        .api-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 20px; }
        .api-card { 
            background: white; 
            border-radius: 12px; 
            padding: 20px; 
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border: 1px solid #e2e8f0;
        }
        .api-title { 
            font-size: 18px; 
            font-weight: 600; 
            margin-bottom: 8px; 
            color: #1e293b;
        }
        .api-description { 
            color: #64748b; 
            margin-bottom: 15px; 
            font-size: 14px;
        }
        .api-url { 
            background: #f1f5f9; 
            padding: 8px 12px; 
            border-radius: 6px; 
            font-family: 'Monaco', 'Menlo', monospace; 
            font-size: 12px;
            margin-bottom: 15px;
            word-break: break-all;
        }
        .test-btn { 
            background: #3b82f6; 
            color: white; 
            border: none; 
            padding: 8px 16px; 
            border-radius: 6px; 
            cursor: pointer; 
            font-size: 14px;
            margin-right: 8px;
        }
        .test-btn:hover { background: #2563eb; }
        .copy-btn { 
            background: #6b7280; 
            color: white; 
            border: none; 
            padding: 8px 16px; 
            border-radius: 6px; 
            cursor: pointer; 
            font-size: 14px;
        }
        .copy-btn:hover { background: #4b5563; }
        .result { 
            margin-top: 15px; 
            padding: 12px; 
            border-radius: 6px; 
            font-size: 12px;
            max-height: 200px;
            overflow-y: auto;
        }
        .success { background: #dcfce7; border: 1px solid #bbf7d0; color: #166534; }
        .error { background: #fef2f2; border: 1px solid #fecaca; color: #dc2626; }
        .loading { background: #dbeafe; border: 1px solid #bfdbfe; color: #1d4ed8; }
        .badge { 
            display: inline-block; 
            padding: 2px 8px; 
            border-radius: 12px; 
            font-size: 11px; 
            font-weight: 500;
            margin-right: 8px;
        }
        .badge-free { background: #dcfce7; color: #166534; }
        .badge-no-auth { background: #e0e7ff; color: #3730a3; }
        .stats { 
            text-align: center; 
            margin-bottom: 30px; 
            padding: 20px; 
            background: white; 
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ API –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</h1>
            <p>–ö–æ–ª–ª–µ–∫—Ü–∏—è –Ω–∞–¥–µ–∂–Ω—ã—Ö API –±–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –∫–ª—é—á–µ–π –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞</p>
        </div>

        <div class="stats">
            <h3>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</h3>
            <div id="stats-content">
                <span id="total-tests">0</span> —Ç–µ—Å—Ç–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ | 
                <span id="success-tests">0</span> —É—Å–ø–µ—à–Ω—ã—Ö | 
                <span id="failed-tests">0</span> –Ω–µ—É–¥–∞—á–Ω—ã—Ö
            </div>
        </div>

        <div class="api-grid" id="api-grid">
            <!-- API –∫–∞—Ä—Ç–æ—á–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
        </div>
    </div>

    <script>
        let totalTests = 0;
        let successTests = 0;
        let failedTests = 0;

        const apis = [
            {
                title: "üìù JSONPlaceholder",
                description: "–°–∞–º—ã–π –Ω–∞–¥–µ–∂–Ω—ã–π —Ç–µ—Å—Ç–æ–≤—ã–π API. –ò–º–∏—Ç–∏—Ä—É–µ—Ç REST API –¥–ª—è –ø–æ—Å—Ç–æ–≤, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤.",
                url: "https://jsonplaceholder.typicode.com/posts?_limit=3",
                method: "GET"
            },
            {
                title: "üîç HTTPBin",
                description: "–°–µ—Ä–≤–∏—Å –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è HTTP –∑–∞–ø—Ä–æ—Å–æ–≤. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤–∞—à–µ–º –∑–∞–ø—Ä–æ—Å–µ.",
                url: "https://httpbin.org/get?test=demo",
                method: "GET"
            },
            {
                title: "üåç REST Countries",
                description: "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∞—Ö –º–∏—Ä–∞: –Ω–∞—Å–µ–ª–µ–Ω–∏–µ, —Å—Ç–æ–ª–∏—Ü—ã, –≤–∞–ª—é—Ç—ã, —Ñ–ª–∞–≥–∏.",
                url: "https://restcountries.com/v3.1/name/russia",
                method: "GET"
            },
            {
                title: "üê± Cat Facts",
                description: "–°–ª—É—á–∞–π–Ω—ã–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ —Ñ–∞–∫—Ç—ã –æ –∫–æ—à–∫–∞—Ö –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–µ.",
                url: "https://catfact.ninja/fact",
                method: "GET"
            },
            {
                title: "üêï Dog API",
                description: "–°–ª—É—á–∞–π–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–æ–±–∞–∫ –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ—Ä–æ–¥–∞—Ö.",
                url: "https://dog.ceo/api/breeds/image/random",
                method: "GET"
            },
            {
                title: "üí° Advice Slip",
                description: "–°–ª—É—á–∞–π–Ω—ã–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–µ —Å–æ–≤–µ—Ç—ã –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–µ.",
                url: "https://api.adviceslip.com/advice",
                method: "GET"
            },
            {
                title: "üòÑ JokeAPI",
                description: "–°–ª—É—á–∞–π–Ω—ã–µ —à—É—Ç–∫–∏ –∏ –∞–Ω–µ–∫–¥–æ—Ç—ã –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º —è–∑—ã–∫–µ.",
                url: "https://v2.jokeapi.dev/joke/Any?type=single&safe-mode",
                method: "GET"
            },
            {
                title: "üåê IP Info",
                description: "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–∞—à–µ–º IP –∞–¥—Ä–µ—Å–µ –∏ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–∏.",
                url: "https://ipapi.co/json/",
                method: "GET"
            },
            {
                title: "üìä HTTP Status",
                description: "–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö HTTP —Å—Ç–∞—Ç—É—Å –∫–æ–¥–æ–≤.",
                url: "https://httpbin.org/status/200",
                method: "GET"
            },
            {
                title: "‚è±Ô∏è Delay Test",
                description: "–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π (2 —Å–µ–∫—É–Ω–¥—ã).",
                url: "https://httpbin.org/delay/2",
                method: "GET"
            },
            {
                title: "üì§ POST Test",
                description: "–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ POST –∑–∞–ø—Ä–æ—Å–æ–≤ —Å JSON –¥–∞–Ω–Ω—ã–º–∏.",
                url: "https://httpbin.org/post",
                method: "POST",
                body: '{"test": "APIfy demo", "timestamp": "' + new Date().toISOString() + '"}'
            },
            {
                title: "üé≤ Random User",
                description: "–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å —Ñ–æ—Ç–æ –∏ –¥–∞–Ω–Ω—ã–º–∏.",
                url: "https://randomuser.me/api/",
                method: "GET"
            }
        ];

        function updateStats() {
            document.getElementById('total-tests').textContent = totalTests;
            document.getElementById('success-tests').textContent = successTests;
            document.getElementById('failed-tests').textContent = failedTests;
        }

        async function testAPI(api, cardElement) {
            const resultDiv = cardElement.querySelector('.result');
            const testBtn = cardElement.querySelector('.test-btn');
            
            totalTests++;
            updateStats();
            
            testBtn.disabled = true;
            testBtn.textContent = '–¢–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è...';
            
            resultDiv.className = 'result loading';
            resultDiv.innerHTML = 'üîÑ –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∑–∞–ø—Ä–æ—Å...';
            
            const startTime = Date.now();
            
            try {
                const options = {
                    method: api.method,
                    headers: {
                        'Content-Type': 'application/json',
                        'User-Agent': 'APIfy-Demo'
                    }
                };
                
                if (api.body && api.method === 'POST') {
                    options.body = api.body;
                }
                
                const response = await fetch(api.url, options);
                const duration = Date.now() - startTime;
                
                let data;
                const contentType = response.headers.get('content-type');
                
                if (contentType && contentType.includes('application/json')) {
                    data = await response.json();
                } else {
                    data = await response.text();
                }
                
                if (response.ok) {
                    successTests++;
                    resultDiv.className = 'result success';
                    resultDiv.innerHTML = `
                        ‚úÖ <strong>–£—Å–ø–µ—Ö!</strong> –°—Ç–∞—Ç—É—Å: ${response.status} (${duration}ms)<br>
                        <details style="margin-top: 8px;">
                            <summary style="cursor: pointer;">–ü–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç</summary>
                            <pre style="margin-top: 8px; white-space: pre-wrap;">${typeof data === 'string' ? data : JSON.stringify(data, null, 2)}</pre>
                        </details>
                    `;
                } else {
                    failedTests++;
                    resultDiv.className = 'result error';
                    resultDiv.innerHTML = `‚ùå <strong>–û—à–∏–±–∫–∞!</strong> –°—Ç–∞—Ç—É—Å: ${response.status} (${duration}ms)`;
                }
                
            } catch (error) {
                failedTests++;
                const duration = Date.now() - startTime;
                resultDiv.className = 'result error';
                
                let errorMsg = error.message;
                if (error.message.includes('Failed to fetch')) {
                    errorMsg = '–û—à–∏–±–∫–∞ —Å–µ—Ç–∏ (–≤–æ–∑–º–æ–∂–Ω–æ CORS –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞)';
                }
                
                resultDiv.innerHTML = `‚ùå <strong>–û—à–∏–±–∫–∞:</strong> ${errorMsg} (${duration}ms)`;
            }
            
            updateStats();
            testBtn.disabled = false;
            testBtn.textContent = '–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å';
        }

        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                // –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–∏
            });
        }

        function createAPICard(api) {
            const card = document.createElement('div');
            card.className = 'api-card';
            
            card.innerHTML = `
                <div class="api-title">${api.title}</div>
                <div class="api-description">${api.description}</div>
                <div>
                    <span class="badge badge-free">–ë–µ—Å–ø–ª–∞—Ç–Ω–æ</span>
                    <span class="badge badge-no-auth">–ë–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</span>
                </div>
                <div class="api-url">${api.method} ${api.url}</div>
                <div>
                    <button class="test-btn" onclick="testAPI(${JSON.stringify(api).replace(/"/g, '&quot;')}, this.parentElement.parentElement)">
                        –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
                    </button>
                    <button class="copy-btn" onclick="copyToClipboard('${api.url}')">
                        –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å URL
                    </button>
                </div>
                <div class="result" style="display: none;"></div>
            `;
            
            return card;
        }

        // –°–æ–∑–¥–∞–µ–º –∫–∞—Ä—Ç–æ—á–∫–∏ –¥–ª—è –≤—Å–µ—Ö API
        const grid = document.getElementById('api-grid');
        apis.forEach(api => {
            grid.appendChild(createAPICard(api));
        });

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫—É
        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('test-btn')) {
                const resultDiv = e.target.parentElement.parentElement.querySelector('.result');
                resultDiv.style.display = 'block';
            }
        });
    </script>
</body>
</html>